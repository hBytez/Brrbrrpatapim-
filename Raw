--== Notification GUI Creation (KAROX Style with UIListLayout Alignment Fix) ==--
if game.Players.LocalPlayer.PlayerGui:FindFirstChild("KAROXNotice") then
    game.Players.LocalPlayer.PlayerGui.KAROXNotice:Destroy()
end

local screenGui = Instance.new("ScreenGui")
screenGui.Name = "KAROXNotice"
screenGui.ResetOnSpawn = false
screenGui.DisplayOrder = 1000 -- Always on top
screenGui.Parent = game.Players.LocalPlayer.PlayerGui

local frame = Instance.new("Frame")
frame.Name = "NotificationFrame"
frame.Size = UDim2.new(0, 380, 0, 90)
frame.Position = UDim2.new(1, -420, 1, -110)
frame.BackgroundColor3 = Color3.fromRGB(37, 37, 37)
frame.BorderSizePixel = 0
frame.BackgroundTransparency = 0.05
frame.AnchorPoint = Vector2.new(0, 0)
frame.ZIndex = 10
frame.Parent = screenGui

local padding = Instance.new("UIPadding")
padding.PaddingLeft = UDim.new(0, 12)
padding.PaddingRight = UDim.new(0, 12)
padding.PaddingTop = UDim.new(0, 10)
padding.PaddingBottom = UDim.new(0, 10)
padding.Parent = frame

local corner = Instance.new("UICorner")
corner.CornerRadius = UDim.new(0, 12)
corner.Parent = frame

-- Horizontal layout for the icon and title
local topLayoutFrame = Instance.new("Frame")
topLayoutFrame.Name = "TopLayout"
topLayoutFrame.BackgroundTransparency = 1
topLayoutFrame.Size = UDim2.new(1, 0, 0, 40)
topLayoutFrame.Parent = frame

local topLayout = Instance.new("UIListLayout")
topLayout.FillDirection = Enum.FillDirection.Horizontal
topLayout.HorizontalAlignment = Enum.HorizontalAlignment.Left
topLayout.VerticalAlignment = Enum.VerticalAlignment.Center
topLayout.SortOrder = Enum.SortOrder.LayoutOrder
topLayout.Padding = UDim.new(0, 10)
topLayout.Parent = topLayoutFrame

local icon = Instance.new("ImageLabel")
icon.Name = "BellIcon"
icon.Size = UDim2.new(0, 32, 0, 32)
icon.BackgroundTransparency = 1
icon.Image = "rbxassetid://6031154870"
icon.ZIndex = 11
icon.LayoutOrder = 1
icon.Parent = topLayoutFrame

local title = Instance.new("TextLabel")
title.Name = "TitleLabel"
title.Size = UDim2.new(0, 320, 1, 0) -- Fixed width, height fills parent
title.BackgroundTransparency = 1
title.Font = Enum.Font.GothamBold
title.Text = "KAROX:"
title.TextColor3 = Color3.fromRGB(255, 255, 255)
title.TextSize = 20
title.TextXAlignment = Enum.TextXAlignment.Left
title.TextYAlignment = Enum.TextYAlignment.Center
title.LayoutOrder = 2
title.Parent = topLayoutFrame

-- Container for description and emojis
local descContainer = Instance.new("Frame")
descContainer.Name = "DescriptionContainer"
descContainer.BackgroundTransparency = 1
descContainer.Size = UDim2.new(1, 0, 1, -50) -- Remaining vertical space
descContainer.Position = UDim2.new(0, 0, 0, 40)
descContainer.Parent = frame

-- Horizontal layout for emojis and description text
local descLayout = Instance.new("UIListLayout")
descLayout.FillDirection = Enum.FillDirection.Horizontal
descLayout.HorizontalAlignment = Enum.HorizontalAlignment.Left
descLayout.SortOrder = Enum.SortOrder.LayoutOrder
descLayout.Padding = UDim.new(0, 12)
descLayout.Parent = descContainer

-- Emoji container with vertical layout
local emojiFrame = Instance.new("Frame")
emojiFrame.Name = "EmojiFrame"
emojiFrame.BackgroundTransparency = 1
emojiFrame.Size = UDim2.new(0, 30, 1, 0)
emojiFrame.LayoutOrder = 1
emojiFrame.Parent = descContainer

local emojiLayout = Instance.new("UIListLayout")
emojiLayout.FillDirection = Enum.FillDirection.Vertical
emojiLayout.HorizontalAlignment = Enum.HorizontalAlignment.Center
emojiLayout.SortOrder = Enum.SortOrder.LayoutOrder
emojiLayout.Padding = UDim.new(0, 8)
emojiLayout.Parent = emojiFrame

local emojiWarning = Instance.new("ImageLabel")
emojiWarning.Size = UDim2.new(1, 0, 0, 18)
emojiWarning.BackgroundTransparency = 1
emojiWarning.Image = "rbxassetid://7733964640"
emojiWarning.LayoutOrder = 1
emojiWarning.Parent = emojiFrame

local emojiInfo = Instance.new("ImageLabel")
emojiInfo.Size = UDim2.new(1, 0, 0, 18)
emojiInfo.BackgroundTransparency = 1
emojiInfo.Image = "rbxassetid://6031068426"
emojiInfo.LayoutOrder = 2
emojiInfo.Parent = emojiFrame

local emojiLock = Instance.new("ImageLabel")
emojiLock.Size = UDim2.new(1, 0, 0, 18)
emojiLock.BackgroundTransparency = 1
emojiLock.Image = "rbxassetid://6031218547"
emojiLock.LayoutOrder = 3
emojiLock.Parent = emojiFrame

-- Description text label
local desc = Instance.new("TextLabel")
desc.Name = "DescriptionText"
desc.Size = UDim2.new(1, -30, 1, 0) -- Remaining horizontal space in descContainer minus emojiFrame width
desc.LayoutOrder = 2
desc.BackgroundTransparency = 1
desc.Font = Enum.Font.Gotham
desc.Text = "[KAROX COMBINED ANTI-CHEAT REMOVER IS ACTIVATED. PLEASE WAIT]"
desc.TextColor3 = Color3.fromRGB(230, 230, 230)
desc.TextSize = 16
desc.TextWrapped = true
desc.TextXAlignment = Enum.TextXAlignment.Left
desc.TextYAlignment = Enum.TextYAlignment.Top
desc.Parent = descContainer

-- Fade out after 6 seconds
local TweenService = game:GetService("TweenService")

task.delay(6, function()
    local fadeTime = 2
    TweenService:Create(frame, TweenInfo.new(fadeTime), {BackgroundTransparency = 1}):Play()
    TweenService:Create(icon, TweenInfo.new(fadeTime), {ImageTransparency = 1}):Play()
    TweenService:Create(title, TweenInfo.new(fadeTime), {TextTransparency = 1}):Play()
    TweenService:Create(desc, TweenInfo.new(fadeTime), {TextTransparency = 1}):Play()
    TweenService:Create(emojiWarning, TweenInfo.new(fadeTime), {ImageTransparency = 1}):Play()
    TweenService:Create(emojiInfo, TweenInfo.new(fadeTime), {ImageTransparency = 1}):Play()
    TweenService:Create(emojiLock, TweenInfo.new(fadeTime), {ImageTransparency = 1}):Play()
    task.wait(fadeTime + 0.1)
    screenGui:Destroy()
end)

--== Your Anti-cheat Hooks and Logic ==--
local getinfo = getinfo or debug.getinfo
local DEBUG = false
local Hooked = {}

local Detected, Kill
setthreadidentity(2)

for i, v in getgc(true) do
    if typeof(v) == "table" then
        local DetectFunc = rawget(v, "Detected")
        local KillFunc = rawget(v, "Kill")
        if typeof(DetectFunc) == "function" and not Detected then
            Detected = DetectFunc
            local Old; Old = hookfunction(Detected, function(Action, Info, NoCrash)
                if Action ~= "_" then
                    if DEBUG then
                        warn(`Adonis AntiCheat flagged\nMethod: {Action}\nInfo: {Info}`)
                    end
                end
                return true
            end)
            table.insert(Hooked, Detected)
        end
        if rawget(v, "Variables") and rawget(v, "Process") and typeof(KillFunc) == "function" and not Kill then
            Kill = KillFunc
            local Old; Old = hookfunction(Kill, function(Info)
                if DEBUG then
                    warn(`Adonis AntiCheat tried to kill (fallback): {Info}`)
                end
            end)
            table.insert(Hooked, Kill)
        end
    end
end

local Old; Old = hookfunction(getrenv().debug.info, newcclosure(function(...)
    local LevelOrFunc, Info = ...
    if Detected and LevelOrFunc == Detected then
        if DEBUG then warn(`zins | adonis bypassed`) end
        return coroutine.yield(coroutine.running())
    end
    return Old(...)
end))
setthreadidentity(7)

--== Game Points/GUI Destruction ==--
if not game:IsLoaded() then
    game.Loaded:Wait()
end

spawn(function()
    while wait() do
        local player = game.Players.LocalPlayer
        local playerName = player.Name
        pcall(function()
            if game.ReplicatedStorage:FindFirstChild("Remotes") and game.ReplicatedStorage.Remotes:FindFirstChild("Events") and game.ReplicatedStorage.Remotes.Events:FindFirstChild("GameManager") then
                game.ReplicatedStorage.Remotes.Events.GameManager:Destroy()
            end
            if player.PlayerGui:FindFirstChild("Points") then
                player.PlayerGui.Points.Disabled = true
                if player.PlayerGui.Points:FindFirstChild("PointsCreator") then
                    player.PlayerGui.Points.PointsCreator.Disabled = true
                end
                player.PlayerGui.Points:Destroy()
            end
            if game:GetService("StarterGui"):FindFirstChild("Points") then
                game:GetService("StarterGui").Points.Disabled = true
            end
            if game:GetService("StarterGui"):FindFirstChild("PointsCreator") then
                game:GetService("StarterGui").PointsCreator.Disabled = true
            end
            if game:GetService("StarterGui"):FindFirstChild("Points") then
                game:GetService("StarterGui").Points:Destroy()
            end
        end)
    end
end)

pcall(function()
    loadstring(game:HttpGet("https://raw.githubusercontent.com/Exunys/Anti-Kick/main/Anti-Kick.lua"))()
end)
